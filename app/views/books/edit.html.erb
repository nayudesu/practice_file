<div class='container'>
  <div class='row'>
    <div class="col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto">
      <h1>Editing Book</h1>
  		<%= render 'form', book: @book %>
  		
  		<%= form_with model:@book,local:true do |f| %>
  <div class="form-group">
    <%= f.label :title %>
    <%= f.text_field :title, class: 'form-control book_title' %>
  </div>
  <div class="form-group">
    <%= f.label :opinion %>
    <%= f.text_area :body, class: 'form-control book_body' %>
  </div>
  
  <!--レビュー機能追加-->
  <div class="form-group" id="star">
    <%= f.label :star,'Rate ', class:'col-md-3 col-form-label' %>
    <%= f.hidden_field :star, id: :review_star %> <!--hidden_field=隠しフィールドの作成-->
　</div>
　
  <script>
　$('#star').empty(); 
  $('#star').raty({
    size     : 36,
    starOff:  '<%= asset_path('star-off.png') %>',
    starOn : '<%= asset_path('star-on.png') %>',
 　　scoreName: 'book[star]',
    half: false,
    readOnly: true,
    score: <%= @book.star %>,

  });
  </script>
  
  <div class="form-group">
    <%= f.submit class: 'btn btn-success' %>
  </div>
<% end %>

<!--/$('#star').empty();=ブラウザバックで星が増え続ける不具合が発生を防ぐ/ -->
<!--/　scoreName: 'book[star]'=bookモデルのstarカラムへ値を保存という意味/-->
  		<%= link_to 'Show', @book, class: "book_#{@book.id}" %> |
  		<%= link_to 'Back', books_path, class: "back" %>
  </div>
</div>